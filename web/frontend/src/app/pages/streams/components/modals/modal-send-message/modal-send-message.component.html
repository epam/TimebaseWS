<div class="modal-wr" [ngClass]="{'show-form': !showEditor, 'show-editor': showEditor}">
  <div class="modal-header">
    <h4 class="modal-title pull-left">{{'titles.sendMessage' | translate}} <span class="stream-name">{{stream.name}}</span></h4>
    <button (click)="bsModalRef.hide()" aria-label="Close" class="close pull-right" type="button">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" >
    <form class="messageForms" id="messageForm">
      <app-form-group
          *ngIf="commonMessageForm"
          class="commonMessageForm"
          [form]="commonMessageForm"
          [simpleConfig]="commonSimpleConfig"
      ></app-form-group>
      <app-form-group
          *ngIf="messageForm"
          class="bodyMessageForm"
          [form]="messageForm"
          [simpleConfig]="simpleConfig"
      ></app-form-group>
    </form>
    <div class="editorWr">
      <div class="editor-btn-wr">
        <button class="btn btn-success" type="button" (click)="onCloseEditor()">{{'buttons.saveJSON' | translate}}</button>
      </div>
      <ngx-monaco-editor [options]="editorOptions" [(ngModel)]="editorData" (onInit)="onEditorInit($event)"></ngx-monaco-editor>
    </div>


  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary btn-btn" *ngIf="!showEditor" (click)="onShowEditor()">{{'buttons.editJSON' | translate}}</button>
    <ng-template [ngIf]="commonMessageForm && commonMessageForm && !showEditor">
      <button class="btn btn-success" type="button"
        (click)="onMessageFormSubmit()"
        [disabled]="!(commonMessageForm.valid && messageForm.valid)">{{'buttons.send' | translate}}</button>
    </ng-template>
    <button (click)="bsModalRef.hide()" class="btn btn-default last" type="button">{{'buttons.cancel' | translate}}</button>
  </div>
</div>

<div class="click-backdrop"></div>
