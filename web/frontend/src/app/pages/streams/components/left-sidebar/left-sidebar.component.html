<nav [class.menu-small]="menuSmall" class="sidebar">
  <div class="sidebar-sticky">
    <div class="sidebar__logo-container">
      <app-logo [menuSmall]="menuSmall"></app-logo>
      <a (click)="toggleMenu()" class="menu-hide">
        <svg
            fill="none"
            height="12"
            id="i-caret-left"
            stroke="currentcolor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 32 32"
            width="12"
            xmlns="http://www.w3.org/2000/svg">
          <path d="M22 30 L6 16 22 2 Z" />
        </svg>
      </a>
    </div>
    <div class="top-toolbar">
      <div dropdown container="body" class="create-btn-wrapper" >
        <button
            class="create-stream-toggle-btn"
            (click)="closeOtherDropdowns()"
            dropdownToggle
            *ngIf="isWriter$ | async"
            [adaptivePosition]="!menuSmall"
            [placement]="menuSmall ? 'right' : 'top'"
            [tooltip]="'contextMenu.create' | translate"
            container="body">
          <svg
              fill="currentColor"
              height="16"
              viewBox="0 0 512 512"
              width="16"
              xmlns="http://www.w3.org/2000/svg">
            <path
                d="m368 272h-224c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h224c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0" />
            <path
                d="m256 384c-8.832031 0-16-7.167969-16-16v-224c0-8.832031 7.167969-16 16-16s16 7.167969 16 16v224c0 8.832031-7.167969 16-16 16zm0 0" />
            <path
                d="m453.332031 512h-394.664062c-32.363281 0-58.667969-26.304688-58.667969-58.667969v-394.664062c0-32.363281 26.304688-58.667969 58.667969-58.667969h394.664062c32.363281 0 58.667969 26.304688 58.667969 58.667969v394.664062c0 32.363281-26.304688 58.667969-58.667969 58.667969zm-394.664062-480c-14.699219 0-26.667969 11.96875-26.667969 26.667969v394.664062c0 14.699219 11.96875 26.667969 26.667969 26.667969h394.664062c14.699219 0 26.667969-11.96875 26.667969-26.667969v-394.664062c0-14.699219-11.96875-26.667969-26.667969-26.667969zm0 0" />
          </svg>
        </button>
        <ul *dropdownMenu class="dropdown-menu common-dropdown">
          <li class="dropdown-item" ><a (click)="createStream()" >{{ 'contextMenu.createStream' | translate }}</a></li>
          <li class="dropdown-item" ><a (click)="createView()" >{{ 'contextMenu.createView' | translate }}</a></li>
        </ul>
      </div>
      <app-query-btn
          (click)="onCloseContextMenu()"
          [adaptivePosition]="!menuSmall"
          [placement]="menuSmall ? 'right' : 'top'"
          [showText]="false"
          [tooltip]="'tooltips.query_mode' | translate"
          container="body"></app-query-btn>
      <button
          (click)="onImportFromQMSG()"
          *ngIf="isWriter$ | async"
          [adaptivePosition]="!menuSmall"
          [placement]="menuSmall ? 'right' : 'top'"
          [tooltip]="'contextMenu.importFromQMSG' | translate"
          container="body">
        <svg
            enable-background="new 0 0 512 512"
            fill="currentColor"
            height="16"
            version="1.1"
            viewBox="0 0 512 512"
            width="16"
            xmlns="http://www.w3.org/2000/svg">
          <g>
            <g>
              <path
                  d="m153.7,171.5l81.9-88.1v265.3c0,11.3 9.1,20.4 20.4,20.4 11.3,0 20.4-9.1 20.4-20.4v-265.3l81.9,88.1c7.7,8.3 20.6,8.7 28.9,1.1 8.3-7.7 8.7-20.6 1.1-28.9l-117.3-126.2c-11.5-11.6-25.6-5.2-29.9,0l-117.3,126.2c-7.7,8.3-7.2,21.2 1.1,28.9 8.2,7.6 21.1,7.2 28.8-1.1z" />
              <path
                  d="M480.6,341.2c-11.3,0-20.4,9.1-20.4,20.4V460H51.8v-98.4c0-11.3-9.1-20.4-20.4-20.4S11,350.4,11,361.6v118.8    c0,11.3,9.1,20.4,20.4,20.4h449.2c11.3,0,20.4-9.1,20.4-20.4V361.6C501,350.4,491.9,341.2,480.6,341.2z" />
            </g>
          </g>
        </svg>
      </button>
      <a
          (click)="onCloseContextMenu()"
          [adaptivePosition]="!menuSmall"
          [placement]="menuSmall ? 'right' : 'top'"
          [queryParams]="{ newTab: '1' }"
          [routerLink]="['flow']"
          [tooltip]="'tooltips.flow' | translate"
          container="body">
        <svg
            fill="currentcolor"
            height="16"
            id="i-msg"
            stroke="none"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 23 23"
            width="16"
            xmlns="http://www.w3.org/2000/svg">
          <path
              d="M21,8c-1.45,0-2.26,1.44-1.93,2.51l-3.55,3.56c-0.3-0.09-0.74-0.09-1.04,0l-2.55-2.55C12.27,10.45,11.46,9,10,9 c-1.45,0-2.27,1.44-1.93,2.52l-4.56,4.55C2.44,15.74,1,16.55,1,18c0,1.1,0.9,2,2,2c1.45,0,2.26-1.44,1.93-2.51l4.55-4.56 c0.3,0.09,0.74,0.09,1.04,0l2.55,2.55C12.73,16.55,13.54,18,15,18c1.45,0,2.27-1.44,1.93-2.52l3.56-3.55 C21.56,12.26,23,11.45,23,10C23,8.9,22.1,8,21,8z" />
          <polygon points="15,9 15.94,6.93 18,6 15.94,5.07 15,3 14.08,5.07 12,6 14.08,6.93" />
          <polygon points="3.5,11 4,9 6,8.5 4,8 3.5,6 3,8 1,8.5 3,9" />
        </svg>
      </a>
      <a
          (click)="onCloseContextMenu()"
          [adaptivePosition]="!menuSmall"
          [placement]="menuSmall ? 'right' : 'top'"
          [queryParams]="{ newTab: '1' }"
          [routerLink]="['order-book']"
          [tooltip]="'contextMenu.orderBook' | translate"
          container="body">
        <svg
            fill="none"
            height="15"
            viewBox="0 0 15 15"
            width="15"
            xmlns="http://www.w3.org/2000/svg">
          <path
              d="m.5 0v14.5h14v-14.5m-14 4.5h2v1h2v3h2v3h1v3-2h2v-2h2v-3h1v-2h2"
              stroke="currentColor" />
        </svg>
      </a>
    </div>
    <app-streams-list></app-streams-list>
  </div>
  <div class="ver-container">
    <div class="logo-ver">{{ 'titles.versionPrefix' | translate }}{{ version$ | async }}</div>
    <div class="logo-ver-hidden">{{ 'titles.versionHidden' | translate }}</div>
  </div>
</nav>
